/*
    Cheese.js by bufPupIndustries;
    version 1.0.0
    www.bufpupindustries.com/home
    Creative drawing and math
    framework for js devs
*/
const PI=3.141592653589793,X="x axis",Y="y axis",RETURN="RETURN DATA";let pageTitle="Cheese.js Window",framesPerSecond,frame=0,startTime,currentTime,framesMeasured=!1;function update(t,_){framesMeasured||(setInterval(()=>{frame++},1e3/_),setInterval(()=>{document.title=pageTitle},1e3/_),framesMeasured=!0),startTime=performance.now(),setInterval(t,1e3/_),setInterval(()=>{windowWidth=window.innerWidth,windowHeight=window.innerHeight},1e3/_),framesPerSecond=1e3/((currentTime=performance.now())-startTime)}class Vector{constructor(t=0,_=0){this.x=t,this.y=_,this.mem=null,this.mag=Math.sqrt(this.x**2+this.y**2),this.normalize=function(t){if(t==RETURN)return new Vector(this.x/this.mag,this.y/this.mag);this.x=this.x/this.mag,this.y=this.y/this.mag},this.reflect=function(t){"x axis"==t?this.x=-1*this.x:("y axis"==t||(this.x=-1*this.x),this.y=-1*this.y)},this.save=function(){this.mem=new Vector(this.x,this.y)},this.restore=function(t){if(t==RETURN)return new Vector(this.mem.x,this.mem.y);this.x=this.mem.x,this.y=this.mem.y},this.flip=function(t){if(t==RETURN)return new Vector(this.y,this.x);{let _=this.x;this.x=this.y,this.y=_}},this.add=function(t,_){if(t instanceof Vector){if(_==RETURN)return new Vector(this.x+t.x,this.y+t.y);this.x+=t.x,this.y+=t.y}else{if(_==RETURN)return new Vector(this.x+t,this.y+t);this.x+=t,this.y+=t}},this.sub=function(t,_){if(t instanceof Vector){if(_==RETURN)return new Vector(this.x-t.x,this.y-t.y);this.x-=t.x,this.y-=t.y}else{if(_==RETURN)return new Vector(this.x-t,this.y-t);this.x-=t,this.y-=t}},this.mult=function(t,_){if(t instanceof Vector){if(_==RETURN)return new Vector(this.x*t.x,this.y*t.y);this.x*=t.x,this.y*=t.y}else{if(_==RETURN)return new Vector(this.x*t,this.y*t);this.x*=t,this.y*=t}},this.div=function(t,_){if(t instanceof Vector){if(_==RETURN)return new Vector(this.x/t.x,this.y/t.y);this.x/=t.x,this.y/=t.y}else{if(_==RETURN)return new Vector(this.x/t,this.y/t);this.x/=t,this.y/=t}}}}function randomVector(t=1,_=t){return new Vector(random(0,t),random(0,_))}function polarToCartesian(t,_){let e={x:0,y:0};return e.x=Math.cos(_)*t,e.y=Math.sin(_)*t,e}function average(t){let _=0;for(i=0;i<t.length;i++)_+=t[i];return _/t.length}function divisibleBy(t,_){return t%_==0}function constrain(t,_,e){return t<_?_:t>e?e:t}function map(t,_,e,$,s){return(s-$)*(t-_)/(e-_)+$}function random(t,_,e){let $=Math.random()*(_-t);return!0==e?Math.floor(map($,0,_-t,t,_)):map($,0,_-t,t,_)}function randomIndex(t){return t[random(0,t.length-1)]}function randomArray(t,_,e){let $=Array(t);for(i=0;i<t;i++)$[i]=random(_,e);return $}function noise(t){let _=Array(t),e=Array(t);for(let $=0;$<e.length;$++)e[$]=Math.random();for(let s=0;s<_.length;s++){let n=s/_.length,h=Math.floor(n*e.length),o=(h+1)%e.length,r=n*e.length-h;_[s]=lerp(e[h],e[o],r)}return _}function lerp(t,_,e){return(1-e)*t+e*_}function dist(t,_,e,$){let s,n;return Math.floor(Math.sqrt((s=t>e?t-e:e>t?e-t:0)*s+(n=_>$?_-$:$>_?$-_:0)*n))}function resize(t,_,e){return{x:t*e,y:_*e}}function percentToDecimal(t){if("string"==typeof t){let _=t.split("").slice(t.split().length-1,-1).join("");return parseInt(_)/100}if("number"==typeof t)return t/100}function derivative(t,_){let e=t(_),$=t(_+1e-4);return($-e)/1e-4}function rgb(t,_,e){return"rgb("+t+", "+_+", "+e+")"}function rgba(t,_,e,$){return"rgba("+t+", "+_+", "+e+", "+$/255+")"}function grayscale(t){return rgb(t,t,t)}function degreesToRadians(t){return 3.141592653589793*t/180}function textWidth(t,_,e){let $=canvas.getContext("2d");$.font=e+" "+_;let s=$.measureText(t);return s.width}function textHeight(t,_,e){let $=document.createElement("canvas"),s=$.getContext("2d");s.font=e+"px "+_;let n=s.measureText(t);return n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}function loadFont(t){let _=t;var e=document.createElement("style");return e.innerHTML=`@font-face { font-family: '${_}'; src: url('${t}') format('truetype'); }`,document.head.appendChild(e),console.log(`Font loaded: ${_}`),_}class PhysicsObject{constructor(t,_,e){this.x=t,this.y=_,this.velocity=new Vector(0,0),this.acceleration=new Vector(0,0),update(()=>{this.x+=this.velocity.x,this.y+=this.velocity.y,this.velocity.x+=this.acceleration.x,this.velocity.y+=this.acceleration.y},e),this.forces=[],this.unitForce=new Vector(0,0),this.applyForce=function(t){for(i=0;i<this.forces.length;i++)this.unitForce=this.unitForce.add(this.forces[i]);this.acceleration.x=this.unitForce.x,this.acceleration.y=this.unitForce.y,this.forces.push(new Vector(t.x,t.y))}}}const gravity=new Vector(0,9.81),file={read:function(t){let _={data:"",ending:""};return fetch(t).then(t=>t.json()).then(t=>_.data=t).catch(t=>console.error(t)),_.ending=_.data.split(".").pop(),_},download:function(t,_,e){let $=new Blob([_],{type:endingToFileType(t)}),s=URL.createObjectURL($),n=document.createElement("a");n.download=e+t,n.href=s,n.click()}};function formatToHTML(t,_=""){return`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>${_}</title></head><script>${t.join(";")}</script></body></html>`}function endingToFileType(t){if(".txt"==t)return"text/plain";if(".html"==t)return"text/html";if(".css"==t)return"text/css";if(".js"==t)return"application/javascript";if(".json"==t)return"application/json";else if(".xml"==t)return"application/xml";else if(".jpeg"==t||".jpg"==t)return"image/jpeg";else if(".png"==t)return"image/png";else if("gif"==t)return"image/gif";else if(".bmp"==t)return"image/bmp";else if(".tiff"==t)return"image/tiff";else if(".svg"==t)return"image/svg+xml";else if(".pdf"==t)return"application/pdf";else throw Error(`${t} isn't a valid ending(Don't forget the . before)`)}function VectorArray(t){let _=Array(t);for(i=0;i<t;i++)_[i]=new Vector;return _}function Array2D(t,_){let e=Array(t);for(i=0;i<e.length;i++)e[i]=Array(_);return e}class Particles{constructor(t,_,e){this.particles=Array(t);for(var $=0;$<this.particles.length;$++)this.particles[$]={x:_,y:e};this.applyForce=function(t){for($=0;$<this.particles.length;$++)this.particles[$].x=t(this.particles[$]),this.particles[$].y=t(this.particles[$])},this.render=function(t){for($=0;$<this.particles.length;$++)t(this.particles[$])}}}function loadSprite(t){let _=new Image;return _.src=t,_}class Sprite{constructor(t,_,e){this.sprite=loadSprite(e),this.length=this.sprite.width,this.width=this.sprite.height,this.x=t,this.y=_,this.hitBox=null,this.addHitBox=function(t){"rect"==t?this.hitBox=new Rect(this.x-this.length/2,this.y-this.width/2,this.length,this.width,rgb(255,0,255)):"ellipse"==t?this.hitBox=new Ellipse(this.x,this.y,this.length,this.width,rgb(255,0,255)):"triangle"==t&&(this.hitBox=new Triangle(this.x,this.y,this.length,this.width,rgb(255,0,255)))}}}class Rect{constructor(t,_,e,$,s){this.x=t,this.y=_,this.length=e,this.width=$,this.area=this.length*this.width,this.perimeter=2*this.length+2*this.width,this.color=s,this.touchingRect=function(t){let _=this.x+this.length/2>t.x-t.length/2&&this.x-this.length/2<t.x+t.length/2,e=this.y+this.width/2>t.y-t.width/2&&this.y-this.width/2<t.y+t.width/2;return _&&e},this.touchingEllipse=function(t){var _,e,$,s,n,h,o,r;let l=t.length*t.width*Math.PI,a=Math.sqrt(l/Math.PI),c=t.x+t.length/2,u=t.y+t.width/2;if(c+a>=this.x&&c-a<=this.x+this.length&&u+a>=this.y&&u-a<=this.y+this.width)return!0;if((c-(_=this.x))*(c-_)+(u-(e=this.y))*(u-e)<=a*a||(c-($=this.x+this.length))*(c-$)+(u-(s=this.y))*(u-s)<=a*a||(c-(n=this.x))*(c-n)+(u-(h=this.y+this.width))*(u-h)<=a*a||(c-(o=this.x+this.length))*(c-o)+(u-(r=this.y+this.width))*(u-r)<=a*a)return!0;let d=this.x+this.length/2,y=this.y+this.width/2;return!!(Math.abs(c-d)<=(this.length+a)/2&&Math.abs(u-y)<=(this.width+a)/2)},this.touchingTriangle=function(t){let _=t.x+t.length/2,e=t.y+t.width/2,$=Math.abs(_-this.x-this.length/2),s=Math.abs(e-this.y-this.width/2);if($<=this.length/2&&s<=this.width/2)return!0;let n=t.length/2,h=t.width/2,o=t.x+n,r=t.y+h,l=t.x-n,a=t.y-h,c=t.x-n,u=t.y+h,d=t.x+n,y=t.y-h,x=this.x-this.length/2,g=this.x+this.length/2,f=this.y+this.width/2,w=this.y-this.width/2;return!!(o>=x)&&!!(o<=g)&&!!(r>=w)&&!!(r<=f)||!!(l>=x)&&!!(l<=g)&&!!(a>=w)&&!!(a<=f)||!!(c>=x)&&!!(c<=g)&&!!(u>=w)&&!!(u<=f)||!!(d>=x)&&!!(d<=g)&&!!(y>=w)&&!!(y<=f)}}}class Ellipse{constructor(t,_,e,$,s,n){this.x=t,this.y=_,this.length=e,this.width=$,this.rotation=s,this.color=n,this.area=3.141592653589793*this.length*this.width,this.length>this.width?(this.major=this.length,this.minor=this.width):(this.major=this.width,this.minor=this.length),this.circumference=3.141592653589793*(3*(this.major/2+this.minor/2)-Math.sqrt((3*this.major+this.minor)*(this.major+3*this.minor))),this.touchingEllipse=function(t){let _;return dist(this.x,this.y,t.x,t.y)<this.major+t.major},this.touchingRect=function(t){var _,e,$,s,n,h,o,r;let l=this.length*this.width*Math.PI,a=Math.sqrt(l/Math.PI),c=this.x+this.length/2,u=this.y+this.width/2;if(c+a>=t.x&&c-a<=t.x+t.length&&u+a>=t.y&&u-a<=t.y+t.width)return!0;if((c-(_=t.x))*(c-_)+(u-(e=t.y))*(u-e)<=a*a||(c-($=t.x+t.length))*(c-$)+(u-(s=t.y))*(u-s)<=a*a||(c-(n=t.x))*(c-n)+(u-(h=t.y+t.width))*(u-h)<=a*a||(c-(o=t.x+t.length))*(c-o)+(u-(r=t.y+t.width))*(u-r)<=a*a)return!0;let d=t.x+t.length/2,y=t.y+t.width/2;return!!(Math.abs(c-d)<=(t.length+a)/2&&Math.abs(u-y)<=(t.width+a)/2)},this.touchingTriangle=function(t){let _=dist(this.x,this.y,t.x,t.y);return _<=this.minor+t.width}}}class Triangle{constructor(t,_,e,$,s){this.x=t,this.y=_,this.length=e,this.width=$,this.color=s,this.area=this.length*this.width/2,this.unequalSide=this.length,this.equalSides=(this.unequalSide+Math.sqrt(this.unequalSide*this.unequalSide-this.unequalSide*this.unequalSide))/2,this.perimeter=2*this.equalSides+this.unequalSide,this.touchingEllipse=function(t){let _=dist(t.x,t.y,this.x,this.y);return _<=t.minor+this.width},this.touchingTriangle=function(t){let _=dist(this.x,this.y,t.x,t.y),e=dist(this.x+this.length,this.y,t.x,t.y),$=dist(this.x,this.y+this.width,t.x,t.y),s=dist(this.x+this.length,this.y+this.width,t.x,t.y),n=dist(t.x,t.y,this.x,this.y),h=dist(t.x+t.length,t.y,this.x,this.y),o=dist(t.x,t.y+t.width,this.x,this.y),r=dist(t.x+t.length,t.y+t.width,this.x,this.y);return _<=this.unequalSide+t.unequalSide||e<=this.unequalSide+t.unequalSide||$<=this.equalSides+t.equalSides||s<=this.equalSides+t.equalSides||n<=this.unequalSide+t.unequalSide||h<=this.unequalSide+t.unequalSide||o<=this.equalSides+t.equalSides||r<=this.equalSides+t.equalSides},this.touchingRect=function(t){let _=this.x+this.length/2,e=this.y+this.width/2,$=Math.abs(_-t.x-t.length/2),s=Math.abs(e-t.y-t.width/2);if($<=t.length/2&&s<=t.width/2)return!0;let n=this.length/2,h=this.width/2,o=this.x+n,r=this.y+h,l=this.x-n,a=this.y-h,c=this.x-n,u=this.y+h,d=this.x+n,y=this.y-h,x=t.x-t.length/2,g=t.x+t.length/2,f=t.y+t.width/2,w=t.y-t.width/2;return!!(o>=x)&&!!(o<=g)&&!!(r>=w)&&!!(r<=f)||!!(l>=x)&&!!(l<=g)&&!!(a>=w)&&!!(a<=f)||!!(c>=x)&&!!(c<=g)&&!!(u>=w)&&!!(u<=f)||!!(d>=x)&&!!(d<=g)&&!!(y>=w)&&!!(y<=f)}}}class Line{constructor(t,_,e,$,s,n){this.point={one:{x:t,y:_},two:{x:e,y:$}},this.thickness=s,this.color=n,this.area=dist(this.point.one.x,this.point.one.y,this.point.two.x,this.point.two.y)*this.thickness,this.perimeter=2*dist(this.point.one.x,this.point.one.y,this.point.two.x,this.point.two.y)+2*this.thickness}}class Text{constructor(t,_,e,$,s,n){this.str=t,this.x=_,this.y=e,this.font=$,this.size=s,this.color=n}}class Path{constructor(t,_){this.points=t,this.color=_}}class Cube{constructor(t,_,e,$,s,n,h){this.x=t,this.y=_,this.length=e,this.width=$,this.height=s,this.thickness=n,this.color=h}}function Color(t,_,e,$){if(void 0==$&&void 0==e&&void 0==_){if("string"==typeof t)return t;if("number"==typeof t)return grayscale(t)}else if(void 0==$)return rgb(t,_,e);else return rgba(t,_,e,$)}function deCasteljau(t,_){if(1===_.length)return _;let e=[],$=[];for(let s=0;s<_.length-1;s++){let n=(1-t)*_[s].x+t*_[s+1].x,h=(1-t)*_[s].y+t*_[s+1].y;e.push({x:n,y:h}),$.unshift({x:n,y:h})}let o=deCasteljau(t,e),r=deCasteljau(t,$);return o.concat(r)}function catmullRomSpline(t,_,e,$,s){let n=(e.x-t.x)/2,h=($.x-_.x)/2,o=2*_.x-2*e.x+n+h,r=-3*_.x+3*e.x-2*n-h,l=_.x,a=(e.y-t.y)/2,c=($.y-_.y)/2,u=2*_.y-2*e.y+a+c,d=-3*_.y+3*e.y-2*a-c,y=_.y;return{x:o*Math.pow(s,3)+r*Math.pow(s,2)+n*s+l,y:u*Math.pow(s,3)+d*Math.pow(s,2)+a*s+y}}let canvas,height,width,major,minor,windowWidth=window.innerWidth,windowHeight=window.innerHeight;class Canvas{constructor(t,_,e){height=t,width=_,this.length=t,this.width=_,this.color=e,canvas=document.createElement("canvas"),void 0===t&&void 0===_&&void 0===e&&(this.length=500),this.width=500,this.color=grayscale(0),canvas.width=this.length,canvas.height=this.width;var $=canvas.getContext("2d");$.fillStyle=e,$.fillRect(0,0,canvas.width,canvas.height),document.body.appendChild(canvas),this.getPixelData=function(t){let _=canvas.getContext("2d"),e=_.getImageData(0,0,canvas.width,canvas.height),$=e.data;if("1D"==t)return $;if("2D"==t){let s=this.length,n=this.width,h=Array2D(s,n);for(let o=0;o<$.length;o+=4){let r=Math.floor(o/4)%s,l=Math.floor(o/4/s),a=$[o],c=$[o+1],u=$[o+2],d=$[o+3];return h[r][l]=new Color(a,c,u,d),h}}},this.drawSprite=function(t){let _=canvas.getContext("2d");_.drawImage(t.sprite,t.x,t.y)},this.drawText=function(t){var _=canvas.getContext("2d");_.font=`${t.size}px '${t.font}'`,_.fillStyle=t.color,_.fillText(t.str,t.x,t.y)},this.drawRect=function(t){var _=canvas.getContext("2d");_.fillStyle=t.color,_.fillRect(t.x,t.y,t.length,t.width)},this.drawEllipse=function(t){var _=canvas.getContext("2d");_.beginPath(),_.ellipse(t.x,t.y,t.length,t.width,0,0,2*Math.PI),_.fillStyle=t.color,_.fill(),_.stroke()},this.drawTriangle=function(t){var _=canvas.getContext("2d");_.beginPath(),_.moveTo(t.x,t.y),_.lineTo(t.x+t.length/2,t.y+t.width),_.lineTo(t.x-t.length/2,t.y+t.width),_.fillStyle=t.color,_.fill()},this.drawLine=function(t){var _=canvas.getContext("2d");_.beginPath(),_.moveTo(t.point.one.x,t.point.one.y),_.lineTo(t.point.two.x,t.point.two.y),_.lineWidth=t.thickness,_.strokeStyle=t.color,_.stroke()},this.drawPolygon=function(t){var _=canvas.getContext("2d");_.beginPath(),_.moveTo(t.points[0].x,t.points[0].y);for(let e=1;e<t.points.length;e++)_.lineTo(t.points[e].x,t.points[e].y);_.closePath(),_.fillStyle=t.color,_.fill()},this.drawPath=function(t){this.drawLine(t.points[0].x,t.points[0].y,t.points[1].x,t.points[1].y,1,t.color);for(let _=1;_<t.points.length-1;_++)this.drawLine(t.points[_].x,t.points[_].y,t.points[_+1].x,t.points[_+1].y,1,t.color)},this.drawSpline=function(t){let _=canvas.getContext("2d");_.strokeStyle=t.color,_.beginPath(),_.moveTo(t.points[0].x,t.points[0].y);for(let e=1;e<t.points.length-2;e++){let $=t.points[e-1],s=t.points[e],n=t.points[e+1],h=t.points[e+2];for(let o=0;o<=1;o+=.01){let{x:r,y:l}=catmullRomSpline($,s,n,h,o);_.lineTo(r,l)}}_.lineTo(t.points[t.points.length-1].x,t.points[t.points.length-1].y),_.stroke()},this.drawCube=function(t){let _=[{x:t.x,y:t.y},{x:t.x+t.length,y:t.y},{x:t.x+t.length,y:t.y+t.width},{x:t.x,y:t.y+t.width}],e=[{x:t.x+t.height,y:t.y+t.heighth},{x:t.x+t.height+t.length,y:t.y+t.height},{x:t.x+t.height+t.length,y:t.y+t.width+t.height},{x:t.x+t.height,y:t.y+t.width+t.height}];this.drawLine(_[0].x,_[0].y,_[1].x,_[1].y,t.thickness,t.color),this.drawLine(_[1].x,_[1].y,_[2].x,_[2].y,t.thickness,t.color),this.drawLine(_[2].x,_[2].y,_[3].x,_[3].y,t.thickness,t.color),this.drawLine(_[3].x,_[3].y,_[0].x,_[0].y,t.thickness,t.color),this.drawLine(e[0].x,e[0].y,e[1].x,e[1].y,t.thickness,t.color),this.drawLine(e[1].x,e[1].y,e[2].x,e[2].y,t.thickness,t.color),this.drawLine(e[2].x,e[2].y,e[3].x,e[3].y,t.thickness,t.color),this.drawLine(e[3].x,e[3].y,e[0].x,e[0].y,t.thickness,t.color),this.drawLine(_[0].x,_[0].y,e[0].x,e[0].y,t.thickness,t.color),this.drawLine(_[1].x,_[1].y,e[1].x,e[1].y,t.thickness,t.color),this.drawLine(_[2].x,_[2].y,e[2].x,e[2].y,t.thickness,t.color),this.drawLine(_[3].x,_[3].y,e[3].x,e[3].y,t.thickness,t.color)},this.drawQuadraticBezier=function(t){let _=canvas.getContext("2d");_.strokeStyle=t.color,_.beginPath(),_.moveTo(t.points[0].x,t.points[0].y),_.quadraticCurveTo(t.points[1].x,pathpoints[1].y,t.points[2].x,t.points[2].y),_.stroke()},this.drawCubicBezier=function(t,_,e){let $=canvas.getContext("2d");$.strokeStyle=t.color,$.beginPath(),$.moveTo(t.points[0].x,t.points[0].y),$.bezierCurveTo(t.points[1].x,t.points[1].y,t.points[2].x,t.points[2].y,t.points[3].x,t.points[3].y),$.stroke()},this.Button=class{constructor(t,_,e,$,s,n,h,o,r){this.x=t,this.y=_,this.length=e,this.width=$,this.str=s,this.font=n,this.size=h,this.textColor=o,this.bgColor=r,this.rect=new Rect(this.x,this.y,this.length,this.width,grayscale(0)),this.drawButton=function(){var t=canvas.getContext("2d");t.fillStyle=this.bgColor,t.fillRect(this.x-this.length/2,this.y-this.width/2,this.length,this.width),t.fillStyle=this.textColor,t.font=this.size+" "+this.font,t.textAlign="center",t.textBaseline="middle",t.fillText(this.str,this.x,this.y)},this.onClick=function(t){mouse.onClick(_=>{let e=new Rect(mouse.x,mouse.y,3,3,grayscale(255));e.touchingRect(this.rect)&&(board.drawRect(e.x,e.y,e.length,e.width,e.color),t(_))})}}},this.Slider=class{constructor(t,_,e,$,s,n,h,o,r,l){this.x=t,this.y=_,this.length=e,this.width=$,this.value=s,this.min=n,this.max=h,this.knobColor=r,this.knobRadias=o,this.backgroundColor=l,this.editable=!0,this.beingHeld,this.drawSlider=function(){var t=canvas.getContext("2d");t.fillStyle=this.backgroundColor,t.fillRect(this.x,this.y,this.length,this.width);var _=this.x+(this.value-this.min)/(this.max-this.min)*this.length,t=canvas.getContext("2d");t.beginPath(),t.ellipse(_,this.y+this.width/2,this.knobRadias,this.knobRadias,0,0,2*Math.PI),t.fillStyle=this.knobColor,t.fill(),t.stroke()},this.onChange=function(t){update(()=>{var _=this.x+(this.value-this.min)/(this.max-this.min)*this.length;let e=new Rect(_,this.y+this.width/2,this.knobRadias,this.knobRadias,grayscale(255)),$=new Rect(mouse.x,mouse.y,3,3,grayscale(255));this.editable&&mouse.isPressed&&$.touchingRect(e)&&(this.value=constrain(map(mouse.x,this.x,this.length,this.min,this.max),this.min,this.max),t())})},update(()=>{var t=this.x+(this.value-this.min)/(this.max-this.min)*this.length;let _=new Rect(t,this.y+this.width/2,this.knobRadias,this.knobRadias,grayscale(255)),e=new Rect(mouse.x,mouse.y,3,3,grayscale(255));this.editable&&mouse.isPressed&&e.touchingRect(_)&&(this.value=constrain(map(mouse.x,this.x,this.length,this.min,this.max),this.min,this.max))},framesPerSecond)}},this.drawFunction=function(t,_,e){let $=Array(_);for(i=0;i<$.length;i++){let s=t(i);s<=e?$[i]=s:$[i]=null}},this.updatePixel=function(t,_,e){this.drawRect(t,_,1,1,e)},this.clear=function(t){var _=canvas.getContext("2d");_.fillStyle=t,_.fillRect(0,0,canvas.width,canvas.height)},this.resize=function(t,_){void 0===_?(canvas.length=t,canvas.width=t,width=t,height=t,this.clear()):(canvas.length=_,canvas.width=t,width=_,height=t,this.clear())},this.translate=function(t,_){canvas.getContext("2d").translate(t,_)},this.rotate=function(t,_,e){var $=canvas.getContext("2d");$.translate(_,e),$.rotate(t)},this.Camera=class{constructor(){this.x=0,this.y=0,this.width=width,this.height=height,this.update=function(){let t=canvas.getContext("2d");t.translate(this.x,this.y),this.x=0,this.y=0}}}}}class Sound{constructor(t,_=100){this.sound=document.createElement("audio"),this.sound.src=t,this.sound.setAttribute("preload","auto"),this.sound.setAttribute("controls","none"),this.sound.style.display="none",document.body.appendChild(this.sound),this.volume=_,this.sound.volume=this.volume/100,this.play=function(){this.sound.volume=this.volume/100,this.sound.play()},this.stop=function(){this.sound.pause()}}}const mouse={x:0,y:0,isPressed:!1,onClick:function(t){document.addEventListener("click",function(_){t(_.button)})}};document.addEventListener("mousemove",function(t){mouse.x=t.offsetX,mouse.y=t.offsetY}),document.addEventListener("mousedown",function(t){mouse.isPressed=!0}),document.addEventListener("mouseup",function(t){mouse.isPressed=!1});const key={onDown:function(t,_){document.addEventListener("keydown",function(e){(e.key==t||"any"==t)&&_()})},onUp:function(t,_){document.addEventListener("keyup",function(e){(e.key==t||"any"==t)&&_()})},current:null,gameDir:null,gameAxis:new Vector};document.addEventListener("keydown",function(t){key.current=t.key,"w"==t.key?(key.gameDir=0,key.gameAxis.y=-1):"d"==t.key?(key.gameDir=1,key.gameAxis.x=1):"s"==t.key?(key.gameDir=2,key.gameAxis.y=1):"a"==t.key?(key.gameDir=3,key.gameAxis.x=-1):(key.gameDir=null,key.gameAxis.x=null,key.gameAxis.y=null)}),document.addEventListener("keyup",function(t){key.current=null,key.gameDir=null,key.gameAxis.x=null,key.gameAxis.y=null});